

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/-221011ca0d9ca71f.jpg">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="DogeLasVegas">
  <meta name="keywords" content="">
  
  <title>树的遍历 - 性感咸鱼，在线翻身</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.7.2/styles/hybrid.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->

  
<link rel="stylesheet" href="/css/custom.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","version":"1.8.11","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":true,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 60vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>道格拉斯维加斯</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-brush"></i>
                养馬場
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="/collect/index.html">
                    <i class="iconfont icon-pen"></i>
                    撑了
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/collect/other">
                    <i class="iconfont icon-pen"></i>
                    没饱
                  </a>
                
              </div>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('https://cdn.jsdelivr.net/gh/dogelasvegas/blog-img/page-bgimg/loadingpic160.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="树的遍历">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2020-06-17 14:01" pubdate>
        2020年6月17日 下午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      9.8k 字
    </span>
  

  

  
  
    
      <!-- 不蒜子统计文章PV -->
      <span id="busuanzi_container_page_pv" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="busuanzi_value_page_pv"></span> 次
      </span>
    
  
</div>

            
          </div>

          
            <div class="scroll-down-bar">
              <i class="iconfont icon-arrowdown"></i>
            </div>
          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">树的遍历</h1>
            
              <p class="note note-info">
                
                  本文最后更新于：2 分钟前
                
              </p>
            
            <div class="markdown-body">
              <h2 id="串存储结构及其实现"><a href="#串存储结构及其实现" class="headerlink" title="串存储结构及其实现"></a>串存储结构及其实现</h2><p>数据结构中，字符串要单独用一种存储结构来存储，称为串存储结构。这里的串指的就是字符串。</p>
<p>严格意义上讲，串存储结构也是一种线性存储结构，因为字符串中的字符之间也具有”一对一”的逻辑关系。只不过串结构只用于存储字符类型的数据。</p>
<p>数据结构中，根据串中存储字符的数量及特点，对一些特殊的串进行了命名，比如说：</p>
<p>空串：存储 0 个字符的串，例如 S = “”（双引号紧挨着）；</p>
<p>空格串：只包含空格字符的串，例如 S = “     “（双引号包含 5 个空格）；</p>
<p>子串和主串：假设有两个串 a 和 b，如果 a 中可以找到几个连续字符组成的串与 b 完全相同，则称 a 是 b 的主串，b 是 a 的子串。例如，若 a = “shujujiegou”，b = “shuju”，由于 a  中也包含 “shuju”，因此串 a 和串 b 是主串和子串的关系；</p>
<p>需要注意的是，空格串和空串不同，空格串中含有字符，只是都是空格而已。另外，只有串 b 整体出现在串 a 中，才能说 b 是 a 的子串，比如 “shujiejugou” 和 “shuju” 就不是主串和子串的关系。</p>
<p>另外，对于具有主串和子串关系的两个串，通常会让你用算法找到子串在主串的位置。子串在主串中的位置，指的是子串首个字符在主串中的位置。</p>
<p>例如，串 a = “shujujiegou”，串 b = “jiegou”，通过观察，可以判断 a 和 b 是主串和子串的关系，同时子串 b 位于主串 a 中第 6 的位置，因为在串 a 中，串 b 首字符 ‘j’ 的位置是 6。</p>
<p><strong>串存储结构的具体实现</strong></p>
<p>存储一个字符串，数据结构包含以下 3 种具体存储结构：</p>
<p>定长顺序存储：实际上就是用普通数组（又称静态数组）存储。例如 C 语言使用普通数据存储字符串的代码为 char a[20] = “data.biancheng.net”；<br>堆分配存储：用动态数组存储字符串；<br>块链存储：用链表存储字符串；</p>
<h3 id="定长顺序存储"><a href="#定长顺序存储" class="headerlink" title="定长顺序存储"></a>定长顺序存储</h3><p>串的定长顺序存储结构，可以简单地理解为采用 “固定长度的顺序存储结构” 来存储字符串，因此限定了其底层实现只能使用静态数组。</p>
<p>使用定长顺序存储结构存储字符串时，需结合目标字符串的长度，预先申请足够大的内存空间。</p>
<p>例如，采用定长顺序存储结构存储 “hello world”，通过目测得知此字符串长度为 11（不包含结束符 ‘\0’），因此我们申请的数组空间长度至少为 11，用 C 语言表示为：</p>
<p><code>char str[11] = &quot;hello world&quot;;</code></p>
<p>使用定长顺序存储结构存储字符串：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">char</span> str[<span class="hljs-number">20</span>]=<span class="hljs-string">&quot;data.biancheng.net&quot;</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>,str);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<h3 id="串的堆分配存储结构"><a href="#串的堆分配存储结构" class="headerlink" title="串的堆分配存储结构"></a>串的堆分配存储结构</h3><p>串的堆分配存储，其具体实现方式是采用动态数组存储字符串。</p>
<p>在C语言中，程序会将内存分为 4 个区域，分别为堆区、栈区、数据区和代码区，与其他区域不同，堆区的内存空间需要程序员手动使用 malloc 函数申请，并且在不用后要手动通过 free 函数将其释放。</p>
<p>C 语言中使用 malloc 函数最多的场景是给数组分配空间，这类数组称为动态数组。例如：</p>
<p><code>char * a = (char*)malloc(5*sizeof(char));</code></p>
<p>此行代码创建了一个动态数组 a，通过使用 malloc 申请了 5 个 char 类型大小的堆存储空间。</p>
<p>动态数组相比普通数组（静态数组）的优势是长度可变，换句话说，根据需要动态数组可额外申请更多的堆空间（使用 relloc 函数）：<br><code>a = (char*)realloc(a, 10*sizeof(char));</code></p>
<p>通过使用这行代码，之前具有 5 个 char 型存储空间的动态数组，其容量扩大为可存储 10 个 char 型数据。</p>
<h3 id="串的块链存储结构"><a href="#串的块链存储结构" class="headerlink" title="串的块链存储结构"></a>串的块链存储结构</h3><p>串的块链存储，指的是使用链表结构存储字符串。</p>
<p>单链表中的 “单” 强调的仅仅是链表各个节点只能有一个指针，并没有限制数据域中存储数据的具体个数。因此在设计链表节点的结构时，可以令各节点存储多个数据。</p>
<p>链表各节点存储数据个数的多少可参考以下几个因素：</p>
<p>串的长度和存储空间的大小：若串包含数据量很大，且链表申请的存储空间有限，此时应尽可能的让各节点存储更多的数据，提高空间的利用率（每多一个节点，就要多申请一个指针域的空间）；反之，如果串不是特别长，或者存储空间足够，就需要再结合其他因素综合考虑；</p>
<p>程序实现的功能：如果实际场景中需要对存储的串做大量的插入或删除操作，则应尽可能减少各节点存储数据的数量；反之，就需要再结合其他因素。</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> linkNum 3<span class="hljs-comment">//全局设置链表中节点存储数据的个数</span></span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Link</span> &#123;</span><br>    <span class="hljs-keyword">char</span> a[linkNum]; <span class="hljs-comment">//数据域可存放 linkNum 个数据</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Link</span> * <span class="hljs-title">next</span>;</span> <span class="hljs-comment">//代表指针域，指向直接后继元素</span><br>&#125;link; <span class="hljs-comment">// nk为节点名，每个节点都是一个 link 结构体</span><br><span class="hljs-function">link * <span class="hljs-title">initLink</span><span class="hljs-params">(link * head, <span class="hljs-keyword">char</span> * str)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">displayLink</span><span class="hljs-params">(link * head)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    link * head = <span class="hljs-literal">NULL</span>;<br>    head = <span class="hljs-built_in">initLink</span>(head, <span class="hljs-string">&quot;hello world&quot;</span>);<br>    <span class="hljs-built_in">displayLink</span>(head);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">//初始化链表，其中head为头指针，str为存储的字符串</span><br><span class="hljs-function">link * <span class="hljs-title">initLink</span><span class="hljs-params">(link * head, <span class="hljs-keyword">char</span> * str)</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> length = <span class="hljs-built_in">strlen</span>(str);<br>    <span class="hljs-comment">//根据字符串的长度，计算出链表中使用节点的个数</span><br>    <span class="hljs-keyword">int</span> num = length/linkNum;<br>    <span class="hljs-keyword">if</span> (length%linkNum) &#123;<br>        num++;<br>    &#125;<br>    <span class="hljs-comment">//创建并初始化首元节点</span><br>    head = (link*)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in"><span class="hljs-keyword">sizeof</span></span>(link));<br>    head-&gt;next = <span class="hljs-literal">NULL</span>;<br>    link *temp = head;<br>    <span class="hljs-comment">//初始化链表</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i&lt;num; i++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (; j&lt;linkNum; j++)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (i*linkNum + j &lt; length) &#123;<br>                temp-&gt;a[j] = str[i*linkNum + j];<br>            &#125;          <br>            <span class="hljs-keyword">else</span><br>                temp-&gt;a[j] = <span class="hljs-string">&#x27;#&#x27;</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (i*linkNum + j &lt; length)<br>        &#123;<br>            link * newlink = (link*)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in"><span class="hljs-keyword">sizeof</span></span>(link));<br>            newlink-&gt;next = <span class="hljs-literal">NULL</span>;<br>            temp-&gt;next = newlink;<br>            temp = newlink;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> head;<br>&#125;<br><span class="hljs-comment">//输出链表</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">displayLink</span><span class="hljs-params">(link * head)</span> </span>&#123;<br>    link * temp = head;<br>    <span class="hljs-keyword">while</span> (temp) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; linkNum; i++) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c&quot;</span>, temp-&gt;a[i]);<br>        &#125;<br>        temp = temp-&gt;next;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>程序输出结果为：<br><code>hello world</code></p>
<h3 id="BF算法（串模式匹配算法）"><a href="#BF算法（串模式匹配算法）" class="headerlink" title="BF算法（串模式匹配算法）"></a>BF算法（串模式匹配算法）</h3><p>串的模式匹配算法，通俗地理解，是一种用来判断两个串之间是否具有”主串与子串”关系的算法。</p>
<p>主串与子串：如果串 A（如 “shujujiegou”）中包含有串 B（如 “ju”），则称串 A 为主串，串 B 为子串。主串与子串之间的关系可简单理解为一个串 “包含” 另一个串的关系。</p>
<p>实现串的模式匹配的算法主要有以下两种：</p>
<p>普通的模式匹配算法；<br>快速模式匹配算法；</p>
<p>BF算法原理即普通模式匹配算法，其实现过程没有任何技巧，就是简单粗暴地拿一个串同另一个串中的字符一一比对，得到最终结果。</p>
<p>BF 算法的实现思想是：将用户指定的两个串 A 和串 B，使用串的定长顺序存储结构存储起来，然后循环实现两个串的模式匹配过程，C 语言实现代码如下：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-comment">//串普通模式匹配算法的实现函数，其中 B是伪主串，A是伪子串</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">mate</span><span class="hljs-params">(<span class="hljs-keyword">char</span> * B,<span class="hljs-keyword">char</span> *A)</span></span>&#123;<br>    <span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>,j=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (i&lt;<span class="hljs-built_in">strlen</span>(B) &amp;&amp; j&lt;<span class="hljs-built_in">strlen</span>(A)) &#123;<br>        <span class="hljs-keyword">if</span> (B[i]==A[j]) &#123;<br>            i++;<br>            j++;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            i=i-j+<span class="hljs-number">1</span>;<br>            j=<span class="hljs-number">0</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">//跳出循环有两种可能，i=strlen(B)说明已经遍历完主串，匹配失败；j=strlen(A),说明子串遍历完成，在主串中成功匹配</span><br>    <span class="hljs-keyword">if</span> (j==<span class="hljs-built_in">strlen</span>(A)) &#123;<br>        <span class="hljs-keyword">return</span> i-<span class="hljs-built_in">strlen</span>(A)+<span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-comment">//运行到此，为i==strlen(B)的情况</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> number=<span class="hljs-built_in">mate</span>(<span class="hljs-string">&quot;ababcabcacbab&quot;</span>, <span class="hljs-string">&quot;abcac&quot;</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>,number);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>程序运行结果：6</p>
<p>注意，在实现过程中，我们借助 i-strlen(A)+1 就可以得到成功模式匹配所用的次数，也就是串 A 移动的总次数。</p>
<p>BF算法时间复杂度</p>
<p>该算法最理想的时间复杂度 O(n)，n 表示串 A 的长度，即第一次匹配就成功。</p>
<p>BF 算法最坏情况的时间复杂度为 O(n*m)，n 为串 A 的长度，m 为串 B 的长度。例如，串 B 为 “0000000001”，而串 A 为 “01”，这种情况下，两个串每次匹配，都必须匹配至串 A 的最末尾才能判断匹配失败，因此运行了 n*m 次。</p>
<h2 id="数组和广义表"><a href="#数组和广义表" class="headerlink" title="数组和广义表"></a>数组和广义表</h2><p>数组和其他线性存储结构不同，顺序表、链表、栈和队列存储的都是不可再分的数据元素（如数字 5、字符 ‘a’ 等），而数组既可以用来存储不可再分的数据元素，也可以用来存储像顺序表、链表这样的数据结构。</p>
<p>一维数组，指的是存储不可再分数据元素的数组，二维数组，指的存储一维数组的一维数组，n 维数组，指的是存储 n-1 维数组的一维数组；</p>
<p>注意，无论数组的维数是多少，数组中的数据类型都必须一致</p>
<h3 id="数组的顺序存储及（C语言）实现"><a href="#数组的顺序存储及（C语言）实现" class="headerlink" title="数组的顺序存储及（C语言）实现"></a>数组的顺序存储及（C语言）实现</h3><p>数组作为一种线性存储结构，对存储的数据通常只做查找和修改操作，因此数组结构的实现使用的是顺序存储结构。</p>
<p>由于数组可以是多维的，而顺序存储结构是一维的，因此数组中数据的存储要制定一个先后次序。通常，数组中数据的存储有两种先后存储方式：</p>
<p>以列序为主（先列后行）：按照行号从小到大的顺序，依次存储每一列的元素<br>以行序为主（先行后序）：按照列号从小到大的顺序，依次存储每一行的元素。</p>
<p><strong>多维数组查找指定元素</strong></p>
<p>当需要在顺序存储的多维数组中查找某个指定元素时，需知道以下信息：</p>
<ul>
<li>多维数组的存储方式；</li>
<li>多维数组在内存中存放的起始地址；</li>
<li>该指定元素在原多维数组的坐标（比如说，二维数组中是通过行标和列标来表明数据元素的具体位置的）；</li>
<li>数组中数组的具体类型，即数组中单个数据元素所占内存的大小，通常用字母 L 表示；</li>
</ul>
<p>根据存储方式的不同，查找目标元素的方式也不同。如果二维数组采用以行序为主的方式，则在二维数组 anm 中查找 aij 存放位置的公式为：<br><code>LOC(i,j) = LOC(0,0) + (i*m + j) * L;</code></p>
<p>其中，LOC(i,j) 为 aij 在内存中的地址，LOC(0,0) 为二维数组在内存中存放的起始位置（也就是 a00 的位置），要注意起始位置不一定是a00，也可能是a11或者其他位置，下同。</p>
<p>而如果采用以列存储的方式，在 anm 中查找 aij 的方式为：<br><code>LOC(i,j) = LOC(0,0) + (i*n + j) * L;</code></p>
<p>以下给出了采用以行序为主的方式存储三维数组 a[3][4][2] 的 C 语言代码实现：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdarg.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;malloc.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdlib.h&gt;</span> <span class="hljs-comment">// atoi()</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;io.h&gt;</span> <span class="hljs-comment">// eof()</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> TRUE 1</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> FALSE 0</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> OK 1</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ERROR 0</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> INFEASIBLE -1</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> OVERFLOW 3</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> UNDERFLOW 4</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">int</span> Status; <span class="hljs-comment">//Status是函数的类型,其值是函数结果状态代码，如OK等</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">int</span> Boolean; <span class="hljs-comment">//Boolean是布尔类型,其值是TRUE或FALSE</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">int</span> ElemType;<br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> MAX_ARRAY_DIM 8 <span class="hljs-comment">//假设数组维数的最大值为8</span></span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span></span><br><span class="hljs-class">&#123;</span><br>    ElemType *base; <span class="hljs-comment">//数组元素基址，由InitArray分配</span><br>    <span class="hljs-keyword">int</span> dim; <span class="hljs-comment">//数组维数</span><br>    <span class="hljs-keyword">int</span> *bounds; <span class="hljs-comment">//数组维界基址，由InitArray分配</span><br>    <span class="hljs-keyword">int</span> *constants; <span class="hljs-comment">// 数组映象函数常量基址，由InitArray分配</span><br>&#125; Array;<br><span class="hljs-function">Status <span class="hljs-title">InitArray</span><span class="hljs-params">(Array *A,<span class="hljs-keyword">int</span> dim,...)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//若维数dim和各维长度合法，则构造相应的数组A，并返回OK</span><br>    <span class="hljs-keyword">int</span> elemtotal=<span class="hljs-number">1</span>,i; <span class="hljs-comment">// elemtotal是元素总值</span><br>    va_list ap;<br>    <span class="hljs-keyword">if</span>(dim&lt;<span class="hljs-number">1</span>||dim&gt;MAX_ARRAY_DIM)<br>        <span class="hljs-keyword">return</span> ERROR;<br>    (*A).dim=dim;<br>    (*A).bounds=(<span class="hljs-keyword">int</span> *)<span class="hljs-built_in">malloc</span>(dim*<span class="hljs-built_in"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword">int</span>));<br>    <span class="hljs-keyword">if</span>(!(*A).bounds)<br>        <span class="hljs-built_in">exit</span>(OVERFLOW);<br>    <span class="hljs-built_in">va_start</span>(ap,dim);<br>    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>; i&lt;dim; ++i)<br>    &#123;<br>        (*A).bounds[i]=<span class="hljs-built_in">va_arg</span>(ap,<span class="hljs-keyword">int</span>);<br>        <span class="hljs-keyword">if</span>((*A).bounds[i]&lt;<span class="hljs-number">0</span>)<br>            <span class="hljs-keyword">return</span> UNDERFLOW;<br>        elemtotal*=(*A).bounds[i];<br>    &#125;<br>    <span class="hljs-built_in">va_end</span>(ap);<br>    (*A).base=(ElemType *)<span class="hljs-built_in">malloc</span>(elemtotal*<span class="hljs-built_in"><span class="hljs-keyword">sizeof</span></span>(ElemType));<br>    <span class="hljs-keyword">if</span>(!(*A).base)<br>        <span class="hljs-built_in">exit</span>(OVERFLOW);<br>    (*A).constants=(<span class="hljs-keyword">int</span> *)<span class="hljs-built_in">malloc</span>(dim*<span class="hljs-built_in"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword">int</span>));<br>    <span class="hljs-keyword">if</span>(!(*A).constants)<br>        <span class="hljs-built_in">exit</span>(OVERFLOW);<br>    (*A).constants[dim<span class="hljs-number">-1</span>]=<span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(i=dim<span class="hljs-number">-2</span>; i&gt;=<span class="hljs-number">0</span>; --i)<br>        (*A).constants[i]=(*A).bounds[i+<span class="hljs-number">1</span>]*(*A).constants[i+<span class="hljs-number">1</span>];<br>    <span class="hljs-keyword">return</span> OK;<br>&#125;<br><span class="hljs-function">Status <span class="hljs-title">DestroyArray</span><span class="hljs-params">(Array *A)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//销毁数组A</span><br>    <span class="hljs-keyword">if</span>((*A).base)<br>    &#123;<br>        <span class="hljs-built_in">free</span>((*A).base);<br>        (*A).base=<span class="hljs-literal">NULL</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">return</span> ERROR;<br>    <span class="hljs-keyword">if</span>((*A).bounds)<br>    &#123;<br>        <span class="hljs-built_in">free</span>((*A).bounds);<br>        (*A).bounds=<span class="hljs-literal">NULL</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">return</span> ERROR;<br>    <span class="hljs-keyword">if</span>((*A).constants)<br>    &#123;<br>        <span class="hljs-built_in">free</span>((*A).constants);<br>        (*A).constants=<span class="hljs-literal">NULL</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">return</span> ERROR;<br>    <span class="hljs-keyword">return</span> OK;<br>&#125;<br><span class="hljs-function">Status <span class="hljs-title">Locate</span><span class="hljs-params">(Array A,va_list ap,<span class="hljs-keyword">int</span> *off)</span> <span class="hljs-comment">// Value()、Assign()调用此函数 */</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//若ap指示的各下标值合法，则求出该元素在A中的相对地址off</span><br>    <span class="hljs-keyword">int</span> i,ind;<br>    *off=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>; i&lt;A.dim; i++)<br>    &#123;<br>        ind=<span class="hljs-built_in">va_arg</span>(ap,<span class="hljs-keyword">int</span>);<br>        <span class="hljs-keyword">if</span>(ind&lt;<span class="hljs-number">0</span>||ind&gt;=A.bounds[i])<br>            <span class="hljs-keyword">return</span> OVERFLOW;<br>        *off+=A.constants[i]*ind;<br>    &#125;<br>    <span class="hljs-keyword">return</span> OK;<br>&#125;<br><span class="hljs-function">Status <span class="hljs-title">Value</span><span class="hljs-params">(ElemType *e,Array A,...)</span> <span class="hljs-comment">//在VC++中，...之前的形参不能是引用类型</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//依次为各维的下标值，若各下标合法，则e被赋值为A的相应的元素值</span><br>    va_list ap;<br>    Status result;<br>    <span class="hljs-keyword">int</span> off;<br>    <span class="hljs-built_in">va_start</span>(ap,A);<br>    <span class="hljs-keyword">if</span>((result=<span class="hljs-built_in">Locate</span>(A,ap,&amp;off))==OVERFLOW) <span class="hljs-comment">//调用Locate()</span><br>        <span class="hljs-keyword">return</span> result;<br>    *e=*(A.base+off);<br>    <span class="hljs-keyword">return</span> OK;<br>&#125;<br><span class="hljs-function">Status <span class="hljs-title">Assign</span><span class="hljs-params">(Array *A,ElemType e,...)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//依次为各维的下标值，若各下标合法，则将e的值赋给A的指定的元素</span><br>    va_list ap;<br>    Status result;<br>    <span class="hljs-keyword">int</span> off;<br>    <span class="hljs-built_in">va_start</span>(ap,e);<br>    <span class="hljs-keyword">if</span>((result=<span class="hljs-built_in">Locate</span>(*A,ap,&amp;off))==OVERFLOW) <span class="hljs-comment">//调用Locate()</span><br>        <span class="hljs-keyword">return</span> result;<br>    *((*A).base+off)=e;<br>    <span class="hljs-keyword">return</span> OK;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    Array A;<br>    <span class="hljs-keyword">int</span> i,j,k,*p,dim=<span class="hljs-number">3</span>,bound1=<span class="hljs-number">3</span>,bound2=<span class="hljs-number">4</span>,bound3=<span class="hljs-number">2</span>; <span class="hljs-comment">//a[3][4][2]数组</span><br>    ElemType e,*p1;<br>    <span class="hljs-built_in">InitArray</span>(&amp;A,dim,bound1,bound2,bound3); <span class="hljs-comment">//构造3＊4＊2的3维数组A</span><br>    p=A.bounds;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;A.bounds=&quot;</span>);<br>    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>; i&lt;dim; i++) <span class="hljs-comment">//顺序输出A.bounds</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>,*(p+i));<br>    p=A.constants;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\nA.constants=&quot;</span>);<br>    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>; i&lt;dim; i++) <span class="hljs-comment">//顺序输出A.constants</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>,*(p+i));<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n%d页%d行%d列矩阵元素如下:\n&quot;</span>,bound1,bound2,bound3);<br>    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>; i&lt;bound1; i++)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(j=<span class="hljs-number">0</span>; j&lt;bound2; j++)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(k=<span class="hljs-number">0</span>; k&lt;bound3; k++)<br>            &#123;<br>                <span class="hljs-built_in">Assign</span>(&amp;A,i*<span class="hljs-number">100</span>+j*<span class="hljs-number">10</span>+k,i,j,k); <span class="hljs-comment">// 将i*100+j*10+k赋值给A[i][j][k]</span><br>                <span class="hljs-built_in">Value</span>(&amp;e,A,i,j,k); <span class="hljs-comment">//将A[i][j][k]的值赋给e</span><br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;A[%d][%d][%d]=%2d &quot;</span>,i,j,k,e); <span class="hljs-comment">//输出A[i][j][k]</span><br>            &#125;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    &#125;<br>    p1=A.base;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;A.base=\n&quot;</span>);<br>    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>; i&lt;bound1*bound2*bound3; i++) <span class="hljs-comment">//顺序输出A.base</span><br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%4d&quot;</span>,*(p1+i));<br>        <span class="hljs-keyword">if</span>(i%(bound2*bound3)==bound2*bound3<span class="hljs-number">-1</span>)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    &#125;<br>    <span class="hljs-built_in">DestroyArray</span>(&amp;A);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>运行结果为：</p>
<figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">A</span>.bounds=<span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">2</span><br><span class="hljs-attribute">A</span>.constants=<span class="hljs-number">8</span> <span class="hljs-number">2</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">3</span>页<span class="hljs-number">4</span>行<span class="hljs-number">2</span>列矩阵元素如下:<br><span class="hljs-attribute">A</span>[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]= <span class="hljs-number">0</span> A[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]= <span class="hljs-number">1</span><br><span class="hljs-attribute">A</span>[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]=<span class="hljs-number">10</span> A[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]=<span class="hljs-number">11</span><br><span class="hljs-attribute">A</span>[<span class="hljs-number">0</span>][<span class="hljs-number">2</span>][<span class="hljs-number">0</span>]=<span class="hljs-number">20</span> A[<span class="hljs-number">0</span>][<span class="hljs-number">2</span>][<span class="hljs-number">1</span>]=<span class="hljs-number">21</span><br><span class="hljs-attribute">A</span>[<span class="hljs-number">0</span>][<span class="hljs-number">3</span>][<span class="hljs-number">0</span>]=<span class="hljs-number">30</span> A[<span class="hljs-number">0</span>][<span class="hljs-number">3</span>][<span class="hljs-number">1</span>]=<span class="hljs-number">31</span><br><br><span class="hljs-attribute">A</span>[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]=<span class="hljs-number">100</span> A[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]=<span class="hljs-number">101</span><br><span class="hljs-attribute">A</span>[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]=<span class="hljs-number">110</span> A[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]=<span class="hljs-number">111</span><br><span class="hljs-attribute">A</span>[<span class="hljs-number">1</span>][<span class="hljs-number">2</span>][<span class="hljs-number">0</span>]=<span class="hljs-number">120</span> A[<span class="hljs-number">1</span>][<span class="hljs-number">2</span>][<span class="hljs-number">1</span>]=<span class="hljs-number">121</span><br><span class="hljs-attribute">A</span>[<span class="hljs-number">1</span>][<span class="hljs-number">3</span>][<span class="hljs-number">0</span>]=<span class="hljs-number">130</span> A[<span class="hljs-number">1</span>][<span class="hljs-number">3</span>][<span class="hljs-number">1</span>]=<span class="hljs-number">131</span><br><br><span class="hljs-attribute">A</span>[<span class="hljs-number">2</span>][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]=<span class="hljs-number">200</span> A[<span class="hljs-number">2</span>][<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]=<span class="hljs-number">201</span><br><span class="hljs-attribute">A</span>[<span class="hljs-number">2</span>][<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]=<span class="hljs-number">210</span> A[<span class="hljs-number">2</span>][<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]=<span class="hljs-number">211</span><br><span class="hljs-attribute">A</span>[<span class="hljs-number">2</span>][<span class="hljs-number">2</span>][<span class="hljs-number">0</span>]=<span class="hljs-number">220</span> A[<span class="hljs-number">2</span>][<span class="hljs-number">2</span>][<span class="hljs-number">1</span>]=<span class="hljs-number">221</span><br><span class="hljs-attribute">A</span>[<span class="hljs-number">2</span>][<span class="hljs-number">3</span>][<span class="hljs-number">0</span>]=<span class="hljs-number">230</span> A[<span class="hljs-number">2</span>][<span class="hljs-number">3</span>][<span class="hljs-number">1</span>]=<span class="hljs-number">231</span><br><br><span class="hljs-attribute">A</span>.base=<br>   <span class="hljs-attribute">0</span>   <span class="hljs-number">1</span>  <span class="hljs-number">10</span>  <span class="hljs-number">11</span>  <span class="hljs-number">20</span>  <span class="hljs-number">21</span>  <span class="hljs-number">30</span>  <span class="hljs-number">31</span><br><span class="hljs-attribute">100</span> <span class="hljs-number">101</span> <span class="hljs-number">110</span> <span class="hljs-number">111</span> <span class="hljs-number">120</span> <span class="hljs-number">121</span> <span class="hljs-number">130</span> <span class="hljs-number">131</span><br><span class="hljs-attribute">200</span> <span class="hljs-number">201</span> <span class="hljs-number">210</span> <span class="hljs-number">211</span> <span class="hljs-number">220</span> <span class="hljs-number">221</span> <span class="hljs-number">230</span> <span class="hljs-number">231</span><br></code></pre></div></td></tr></table></figure>

<h3 id="矩阵（稀疏矩阵）压缩存储"><a href="#矩阵（稀疏矩阵）压缩存储" class="headerlink" title="矩阵（稀疏矩阵）压缩存储"></a>矩阵（稀疏矩阵）压缩存储</h3><p>数据结构中，提供针对某些特殊矩阵的压缩存储结构。</p>
<p>这里所说的特殊矩阵，主要分为以下两类：<br>含有大量相同数据元素的矩阵，比如对称矩阵；<br>含有大量 0 元素的矩阵，比如稀疏矩阵、上（下）三角矩阵；</p>
<p>针对以上两类矩阵，数据结构的压缩存储思想是：矩阵中的相同数据元素（包括元素 0）只存储一个。</p>
<p><strong>对称矩阵</strong></p>
<p>数据元素沿主对角线对应相等，这类矩阵称为对称矩阵。</p>
<p>矩阵中有两条对角线，其中左上角到右下角的对角线称为主对角线，另一条从左下角到右上角的对角线为副对角线。对称矩阵指的是各数据元素沿主对角线对称的矩阵。</p>
<p>结合数据结构压缩存储的思想，我们可以使用一维数组存储对称矩阵。由于矩阵中沿对角线两侧的数据相等，因此数组中只需存储对角线一侧（包含对角线）的数据即可。</p>
<p>对称矩阵的实现过程是，若存储下三角中的元素，只需将各元素所在的行标 i 和列标 j 代入下面的公式：</p>
<p>存储上三角的元素要将各元素的行标 i 和列标 j 代入另一个公式：</p>
<p>最终求得的 k 值即为该元素存储到数组中的位置（矩阵中元素的行标和列标都从 1 开始）。</p>
<p>注意，以上两个公式既是用来存储矩阵中元素的，也用来从数组中提取矩阵相应位置的元素。</p>
<p><strong>上（下）三角矩阵</strong></p>
<p>主对角线下的数据元素全部相同的矩阵为上三角矩阵，主对角线上元素全部相同的矩阵为下三角矩阵。</p>
<p>对于这类特殊的矩阵，压缩存储的方式是：上（下）三角矩阵采用对称矩阵的方式存储上（下）三角的数据（元素 0 不用存储）。上(下)三角矩阵存储元素和提取元素的过程和对称矩阵相同。</p>
<p><strong>稀疏矩阵</strong></p>
<p>如果矩阵中分布有大量的元素 0，即非 0 元素非常少，这类矩阵称为稀疏矩阵。</p>
<p>压缩存储稀疏矩阵的方法是：只存储矩阵中的非 0 元素，与前面的存储方法不同，稀疏矩阵非 0 元素的存储需同时存储该元素所在矩阵中的行标和列标。</p>
<p>例如，存储图 5 中的稀疏矩阵，需存储以下信息：<br>(1,1,1)：数据元素为 1，在矩阵中的位置为 (1,1)；<br>(3,3,1)：数据元素为 3，在矩阵中的位置为 (3,1)；<br>(5,2,3)：数据元素为 5，在矩阵中的位置为 (2,3)；<br>除此之外，还要存储矩阵的行数 3 和列数 3；</p>
<p>由此，可以成功存储一个稀疏矩阵。</p>
<p><strong>矩阵压缩存储的 3 种方式</strong></p>
<p>对于以上 3 种特殊的矩阵，对阵矩阵和上下三角矩阵的实现方法是相同的，且实现过程比较容易，仅需套用上面给出的公式即可。</p>
<p>稀疏矩阵的压缩存储，数据结构提供有 3 种具体实现方式：<br>三元组顺序表；<br>行逻辑链接的顺序表；<br>十字链表；</p>
<h4 id="三元组顺序表，稀疏矩阵的三元组表示及实现"><a href="#三元组顺序表，稀疏矩阵的三元组表示及实现" class="headerlink" title="三元组顺序表，稀疏矩阵的三元组表示及实现"></a>三元组顺序表，稀疏矩阵的三元组表示及实现</h4><p>三元组是由 3 部分数据组成的集合，组中数据分别表示（行标，列标，元素值）。</p>
<p>三元组需要用结构体实现，如下所示：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-comment">//三元组结构体</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> &#123;</span><br>    <span class="hljs-keyword">int</span> i,j;<span class="hljs-comment">//行标i，列标j</span><br>    <span class="hljs-keyword">int</span> data;<span class="hljs-comment">//元素值</span><br>&#125;triple;<br></code></pre></div></td></tr></table></figure>

<p>由于稀疏矩阵中非 0 元素有多个，因此需要建立 triple 数组存储各个元素的三元组。除此之外，考虑到还要存储矩阵的总行数和总列数，因此可以采用以下结构表示整个稀疏矩阵：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> number 20</span><br><span class="hljs-comment">//矩阵的结构表示</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> &#123;</span><br>    triple data[number];<span class="hljs-comment">//存储该矩阵中所有非0元素的三元组</span><br>    <span class="hljs-keyword">int</span> n,m,num;<span class="hljs-comment">//n和m分别记录矩阵的行数和列数，num记录矩阵中所有的非0元素的个数</span><br>&#125;TSMatrix;<br></code></pre></div></td></tr></table></figure>

<p>可以看到，TSMatrix 是一个结构体，其包含一个三元组数组，以及用于存储矩阵总行数、总列数和非 0 元素个数的变量。</p>
<p>使用TSMatrix存储下列稀疏矩阵：<br>1 0 0<br>0 0 5<br>3 0 0</p>
<figure class="highlight reasonml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs reasonml">#<span class="hljs-keyword">include</span>&lt;stdio.h&gt;<br>#define number <span class="hljs-number">3</span><br>typedef <span class="hljs-keyword">struct</span> &#123;<br>    <span class="hljs-built_in">int</span> i,j;<br>    <span class="hljs-built_in">int</span> data;<br>&#125;triple;<br>typedef <span class="hljs-keyword">struct</span> &#123;<br>    triple data<span class="hljs-literal">[<span class="hljs-identifier">number</span>]</span>;<br>    <span class="hljs-built_in">int</span> n,m,num;<br>&#125;TSMatrix;<br><span class="hljs-comment">//输出存储的稀疏矩阵</span><br>void display(TSMatrix M);<br><span class="hljs-built_in">int</span> main<span class="hljs-literal">()</span> &#123;<br>    TSMatrix M;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>m=<span class="hljs-number">3</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>n=<span class="hljs-number">3</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>num=<span class="hljs-number">3</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">0</span>]</span>.i=<span class="hljs-number">1</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">0</span>]</span>.j=<span class="hljs-number">1</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">0</span>]</span>.data=<span class="hljs-number">1</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">1</span>]</span>.i=<span class="hljs-number">2</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">1</span>]</span>.j=<span class="hljs-number">3</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">1</span>]</span>.data=<span class="hljs-number">5</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">2</span>]</span>.i=<span class="hljs-number">3</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">2</span>]</span>.j=<span class="hljs-number">1</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">2</span>]</span>.data=<span class="hljs-number">3</span>;<br>    display(M);<br>    return <span class="hljs-number">0</span>;<br>&#125;<br>void display(TSMatrix M)&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-built_in">int</span> i=<span class="hljs-number">1</span>;i&lt;=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>n;i++)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-built_in">int</span> j=<span class="hljs-number">1</span>;j&lt;=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>m;j++)&#123;<br>            <span class="hljs-built_in">int</span> value =<span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-built_in">int</span> k=<span class="hljs-number">0</span>;k&lt;<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>num;k++)&#123;<br>                <span class="hljs-keyword">if</span>(i<span class="hljs-operator"> == </span><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-identifier">k</span>]</span>.i<span class="hljs-operator"> &amp;&amp; </span>j<span class="hljs-operator"> == </span><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-identifier">k</span>]</span>.j)&#123;<br>                    printf(<span class="hljs-string">&quot;%d &quot;</span>,<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-identifier">k</span>]</span>.data);<br>                    value =<span class="hljs-number">1</span>;<br>                    break;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(value<span class="hljs-operator"> == </span><span class="hljs-number">0</span>)<br>                printf(<span class="hljs-string">&quot;0 &quot;</span>);<br>        &#125;<br>        printf(<span class="hljs-string">&quot;\n&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<h4 id="行逻辑链接的顺序表"><a href="#行逻辑链接的顺序表" class="headerlink" title="行逻辑链接的顺序表"></a>行逻辑链接的顺序表</h4><p>行逻辑链接的顺序表和三元组顺序表的实现过程类似，它们存储矩阵的过程完全相同，都是将矩阵中非 0 元素的三元组（行标、列标和元素值）存储在一维数组中。他们的区别在于行逻辑链接的顺序表存储矩阵时比三元组顺序表多使用了一个数组，专门记录矩阵中每行第一个非 0 元素在一维数组中的位置，它仅比三元组顺序表多使用了一个 rpos 数组，从而提高了提取数据时遍历数组的效率。</p>
<p>存储下列稀疏矩阵：<br>0 3 0 5<br>0 0 1 0<br>2 0 0 0</p>
<figure class="highlight reasonml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs reasonml">#<span class="hljs-keyword">include</span> &lt;stdio.h&gt;<br>#define MAXSIZE <span class="hljs-number">12500</span><br>#define MAXRC <span class="hljs-number">100</span><br>#define ElemType <span class="hljs-built_in">int</span><br>typedef <span class="hljs-keyword">struct</span><br>&#123;<br>    <span class="hljs-built_in">int</span> i,j;<span class="hljs-comment">//行，列</span><br>    ElemType e;<span class="hljs-comment">//元素值</span><br>&#125;Triple;<br>typedef <span class="hljs-keyword">struct</span><br>&#123;<br>    Triple  data<span class="hljs-literal">[MAXSIZE+<span class="hljs-number">1</span>]</span>;<br>    <span class="hljs-built_in">int</span> rpos<span class="hljs-literal">[MAXRC+<span class="hljs-number">1</span>]</span>;<span class="hljs-comment">//每行第一个非零元素在data数组中的位置</span><br>    <span class="hljs-built_in">int</span> mu,nu,tu;<span class="hljs-comment">//行数，列数，元素个数</span><br>&#125;RLSMatrix;<br><span class="hljs-comment">//矩阵的输出函数</span><br>void display(RLSMatrix M)&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-built_in">int</span> i=<span class="hljs-number">1</span>;i&lt;=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>mu;i++)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-built_in">int</span> j=<span class="hljs-number">1</span>;j&lt;=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>nu;j++)&#123;<br>            <span class="hljs-built_in">int</span> value=<span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">if</span>(i+<span class="hljs-number">1</span> &lt;=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>mu)&#123;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-built_in">int</span> k=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>rpos<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span>;k&lt;<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>rpos<span class="hljs-literal">[<span class="hljs-identifier">i</span>+<span class="hljs-number">1</span>]</span>;k++)&#123;<br>                    <span class="hljs-keyword">if</span>(i<span class="hljs-operator"> == </span><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-identifier">k</span>]</span>.i<span class="hljs-operator"> &amp;&amp; </span>j<span class="hljs-operator"> == </span><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-identifier">k</span>]</span>.j)&#123;<br>                        printf(<span class="hljs-string">&quot;%d &quot;</span>,<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-identifier">k</span>]</span>.e);<br>                        value=<span class="hljs-number">1</span>;<br>                        break;<br>                    &#125;<br>                &#125;<br>                <span class="hljs-keyword">if</span>(value==<span class="hljs-number">0</span>)&#123;<br>                        printf(<span class="hljs-string">&quot;0 &quot;</span>);<br>                    &#125;<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-built_in">int</span> k=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>rpos<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span>;k&lt;=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>tu;k++)&#123;<br>                    <span class="hljs-keyword">if</span>(i<span class="hljs-operator"> == </span><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-identifier">k</span>]</span>.i<span class="hljs-operator"> &amp;&amp; </span>j<span class="hljs-operator"> == </span><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-identifier">k</span>]</span>.j)&#123;<br>                        printf(<span class="hljs-string">&quot;%d &quot;</span>,<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-identifier">k</span>]</span>.e);<br>                        value=<span class="hljs-number">1</span>;<br>                        break;<br>                    &#125;<br>                &#125;<br>                <span class="hljs-keyword">if</span>(value==<span class="hljs-number">0</span>)&#123;<br>                    printf(<span class="hljs-string">&quot;0 &quot;</span>);<br>                &#125;<br>            &#125;<br>        &#125;<br>        printf(<span class="hljs-string">&quot;\n&quot;</span>);<br>    &#125;<br>&#125;<br><span class="hljs-built_in">int</span> main(<span class="hljs-built_in">int</span> argc, <span class="hljs-built_in">char</span>* argv<span class="hljs-literal">[]</span>)<br>&#123;<br>    RLSMatrix M;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>tu = <span class="hljs-number">4</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>mu = <span class="hljs-number">3</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>nu = <span class="hljs-number">4</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>rpos<span class="hljs-literal">[<span class="hljs-number">1</span>]</span> = <span class="hljs-number">1</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>rpos<span class="hljs-literal">[<span class="hljs-number">2</span>]</span> = <span class="hljs-number">3</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>rpos<span class="hljs-literal">[<span class="hljs-number">3</span>]</span> = <span class="hljs-number">4</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">1</span>]</span>.e = <span class="hljs-number">3</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">1</span>]</span>.i = <span class="hljs-number">1</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">1</span>]</span>.j = <span class="hljs-number">2</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">2</span>]</span>.e = <span class="hljs-number">5</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">2</span>]</span>.i = <span class="hljs-number">1</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">2</span>]</span>.j = <span class="hljs-number">4</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">3</span>]</span>.e = <span class="hljs-number">1</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">3</span>]</span>.i = <span class="hljs-number">2</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">3</span>]</span>.j = <span class="hljs-number">3</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">4</span>]</span>.e = <span class="hljs-number">2</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">4</span>]</span>.i = <span class="hljs-number">3</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">4</span>]</span>.j = <span class="hljs-number">1</span>;<br>    <span class="hljs-comment">//输出矩阵</span><br>    display(M);<br>    return <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<h4 id="十字链表法"><a href="#十字链表法" class="headerlink" title="十字链表法"></a>十字链表法</h4><p>该存储方式采用的是 “链表+数组” 结构，矩阵中的各行各列都各用一各链表存储，与此同时，所有行链表的表头存储到一个数组（rhead），所有列链表的表头存储到另一个数组（chead）中。</p>
<p>链表中节点的 C 语言代码表示应为：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">OLNode</span>&#123;</span><br>    <span class="hljs-keyword">int</span> i,j;<span class="hljs-comment">//元素的行标和列标</span><br>    <span class="hljs-keyword">int</span> data;<span class="hljs-comment">//元素的值</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">OLNode</span> * <span class="hljs-title">right</span>,*<span class="hljs-title">down</span>;</span><span class="hljs-comment">//两个指针域</span><br>&#125;OLNode;<br></code></pre></div></td></tr></table></figure>

<p>同时，表示十字链表结构的 C 语言代码应为：</p>
<figure class="highlight reasonml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs reasonml">#<span class="hljs-keyword">include</span>&lt;stdio.h&gt;<br>#<span class="hljs-keyword">include</span>&lt;stdlib.h&gt;<br>typedef <span class="hljs-keyword">struct</span> OLNode<br>&#123;<br>    <span class="hljs-built_in">int</span> i, j, e; <span class="hljs-comment">//矩阵三元组i代表行 j代表列 e代表当前位置的数据</span><br>    <span class="hljs-keyword">struct</span> OLNode *right, *down; <span class="hljs-comment">//指针域 右指针 下指针</span><br>&#125;OLNode, *OLink;<br>typedef <span class="hljs-keyword">struct</span><br>&#123;<br>    OLink *rhead, *chead; <span class="hljs-comment">//行和列链表头指针</span><br>    <span class="hljs-built_in">int</span> mu, nu, tu;  <span class="hljs-comment">//矩阵的行数,列数和非零元的个数</span><br>&#125;CrossList;<br>CrossList <span class="hljs-constructor">CreateMatrix_OL(CrossList M)</span>;<br>void display(CrossList M);<br><span class="hljs-built_in">int</span> main<span class="hljs-literal">()</span><br>&#123;<br>    CrossList M;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>rhead = NULL;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>chead = NULL;<br>    M = <span class="hljs-constructor">CreateMatrix_OL(M)</span>;<br>    printf(<span class="hljs-string">&quot;输出矩阵M:\n&quot;</span>);<br>    display(M);<br>    return <span class="hljs-number">0</span>;<br>&#125;<br>CrossList <span class="hljs-constructor">CreateMatrix_OL(CrossList M)</span><br>&#123;<br>    <span class="hljs-built_in">int</span> m, n, t;<br>    <span class="hljs-built_in">int</span> i, j, e;<br>    OLNode *p, *q;<br>    printf(<span class="hljs-string">&quot;输入矩阵的行数、列数和非0元素个数：&quot;</span>);<br>    scanf(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;m, &amp;n, &amp;t);<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>mu = m;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>nu = n;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>tu = t;<br>    <span class="hljs-keyword">if</span> (!(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>rhead = (OLink*)malloc((m + <span class="hljs-number">1</span>)<span class="hljs-operator"> * </span>sizeof(OLink)))<span class="hljs-operator"> || </span>!(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>chead = (OLink*)malloc((n + <span class="hljs-number">1</span>)<span class="hljs-operator"> * </span>sizeof(OLink))))<br>    &#123;<br>        printf(<span class="hljs-string">&quot;初始化矩阵失败&quot;</span>);<br>        exit(<span class="hljs-number">0</span>);<br>    &#125;<br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt;= m; i++)<br>    &#123;<br>        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>rhead<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span> = NULL;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (j = <span class="hljs-number">1</span>; j &lt;= n; j++)<br>    &#123;<br>        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>chead<span class="hljs-literal">[<span class="hljs-identifier">j</span>]</span> = NULL;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (scanf(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;i, &amp;j, &amp;e); <span class="hljs-number">0</span> != i; scanf(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;i, &amp;j, &amp;e)) &#123;<br>        <span class="hljs-keyword">if</span> (!(p = (OLNode*)malloc(sizeof(OLNode))))<br>        &#123;<br>            printf(<span class="hljs-string">&quot;初始化三元组失败&quot;</span>);<br>            exit(<span class="hljs-number">0</span>);<br>        &#125;<br>        p-&gt;i = i;<br>        p-&gt;j = j;<br>        p-&gt;e = e;<br>        <span class="hljs-comment">//链接到行的指定位置</span><br>        <span class="hljs-keyword">if</span> (NULL<span class="hljs-operator"> == </span><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>rhead<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span><span class="hljs-operator"> || </span><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>rhead<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span>-&gt;j &gt; j)<br>        &#123;<br>            p-&gt;right = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>rhead<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span>;<br>            <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>rhead<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span> = p;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">for</span> (q = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>rhead<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span>; (q-&gt;right)<span class="hljs-operator"> &amp;&amp; </span>q-&gt;right-&gt;j &lt; j; q = q-&gt;right);<br>            p-&gt;right = q-&gt;right;<br>            q-&gt;right = p;<br>        &#125;<br>        <span class="hljs-comment">//链接到列的指定位置</span><br>        <span class="hljs-keyword">if</span> (NULL<span class="hljs-operator"> == </span><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>chead<span class="hljs-literal">[<span class="hljs-identifier">j</span>]</span><span class="hljs-operator"> || </span><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>chead<span class="hljs-literal">[<span class="hljs-identifier">j</span>]</span>-&gt;i &gt; i)<br>        &#123;<br>            p-&gt;down = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>chead<span class="hljs-literal">[<span class="hljs-identifier">j</span>]</span>;<br>            <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>chead<span class="hljs-literal">[<span class="hljs-identifier">j</span>]</span> = p;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">for</span> (q = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>chead<span class="hljs-literal">[<span class="hljs-identifier">j</span>]</span>; (q-&gt;down)<span class="hljs-operator"> &amp;&amp; </span>q-&gt;down-&gt;i &lt; i; q = q-&gt;down);<br>            p-&gt;down = q-&gt;down;<br>            q-&gt;down = p;<br>        &#125;<br>    &#125;<br>    return M;<br>&#125;<br>void display(CrossList M) &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>nu; i++)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (NULL != <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>chead<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span>)<br>        &#123;<br>            OLink p = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>chead<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span>;<br>            <span class="hljs-keyword">while</span> (NULL != p)<br>            &#123;<br>                printf(<span class="hljs-string">&quot;%d\t%d\t%d\n&quot;</span>, p-&gt;i, p-&gt;j, p-&gt;e);<br>                p = p-&gt;down;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight tap"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs tap">输入矩阵的行数、列数和非0元素个数：3<span class="hljs-number"> 3 </span>3<br>2<span class="hljs-number"> 2 </span>3<br>2<span class="hljs-number"> 3 </span>4<br>3<span class="hljs-number"> 2 </span>5<br>0<span class="hljs-number"> 0 </span>0<br>输出矩阵M:<br>2      <span class="hljs-number"> 2 </span>      3<br>3      <span class="hljs-number"> 2 </span>      5<br>2      <span class="hljs-number"> 3 </span>      4<br></code></pre></div></td></tr></table></figure>

<h4 id="矩阵（稀疏矩阵）的转置算法"><a href="#矩阵（稀疏矩阵）的转置算法" class="headerlink" title="矩阵（稀疏矩阵）的转置算法"></a>矩阵（稀疏矩阵）的转置算法</h4><p>矩阵转置的实现思路是：不断遍历存储矩阵的三元组表，每次都取出表中 j 列最小的那一个三元组，互换行标和列标的值，并按次序存储到一个新三元组表中。</p>
<p>矩阵转置的实现过程需完成以下 3 步：</p>
<p>将矩阵的行数和列数互换；<br>将三元组表（存储矩阵）中的 i 列和 j 列互换，实现矩阵的转置；<br>以 j 列为序，重新排列三元组表中存储各三元组的先后顺序；</p>
<figure class="highlight reasonml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs reasonml">#<span class="hljs-keyword">include</span>&lt;stdio.h&gt;<br>#define number <span class="hljs-number">10</span><br>typedef <span class="hljs-keyword">struct</span> &#123;<br>    <span class="hljs-built_in">int</span> i,j;<br>    <span class="hljs-built_in">int</span> data;<br>&#125;triple;<br>typedef <span class="hljs-keyword">struct</span> &#123;<br>    triple data<span class="hljs-literal">[<span class="hljs-identifier">number</span>]</span>;<br>    <span class="hljs-built_in">int</span> n,m,num;<br>&#125;TSMatrix;<br>TSMatrix transpose<span class="hljs-constructor">Matrix(TSMatrix M,TSMatrix T)</span>&#123;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">T</span>.</span></span>m=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>n;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">T</span>.</span></span>n=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>m;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">T</span>.</span></span>num=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>num;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">T</span>.</span></span>num) &#123;<br>        <span class="hljs-built_in">int</span> q=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> col=<span class="hljs-number">1</span>;col&lt;=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>m; col++) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> p=<span class="hljs-number">0</span>; p&lt;<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>num; p++) &#123;<br>                <span class="hljs-keyword">if</span> (<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-identifier">p</span>]</span>.j==col) &#123;<br>                    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">T</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-identifier">q</span>]</span>.i=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-identifier">p</span>]</span>.j;<br>                    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">T</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-identifier">q</span>]</span>.j=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-identifier">p</span>]</span>.i;<br>                    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">T</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-identifier">q</span>]</span>.data=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-identifier">p</span>]</span>.data;<br>                    q++;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    return T;<br>&#125;<br><span class="hljs-built_in">int</span> main<span class="hljs-literal">()</span> &#123;<br>    TSMatrix M;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>m=<span class="hljs-number">2</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>n=<span class="hljs-number">3</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>num=<span class="hljs-number">4</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">0</span>]</span>.i=<span class="hljs-number">1</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">0</span>]</span>.j=<span class="hljs-number">2</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">0</span>]</span>.data=<span class="hljs-number">1</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">1</span>]</span>.i=<span class="hljs-number">2</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">1</span>]</span>.j=<span class="hljs-number">2</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">1</span>]</span>.data=<span class="hljs-number">3</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">2</span>]</span>.i=<span class="hljs-number">3</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">2</span>]</span>.j=<span class="hljs-number">1</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">2</span>]</span>.data=<span class="hljs-number">6</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">3</span>]</span>.i=<span class="hljs-number">3</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">3</span>]</span>.j=<span class="hljs-number">2</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">M</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-number">3</span>]</span>.data=<span class="hljs-number">5</span>;<br>    TSMatrix T;<br>    T=transpose<span class="hljs-constructor">Matrix(M, T)</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">T</span>.</span></span>num; i++) &#123;<br>        printf(<span class="hljs-string">&quot;(%d,%d,%d)\n&quot;</span>,<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">T</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span>.i,<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">T</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span>.j,<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">T</span>.</span></span>data<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span>.data);<br>    &#125;<br>    return <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>程序运行结果为：</p>
<figure class="highlight clojure"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs clojure">(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">6</span>)<br>(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)<br>(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)<br>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>)<br></code></pre></div></td></tr></table></figure>

<p>由于此算法中嵌套使用了两个 for 循环，时间复杂度为 O(n2)。</p>
<h3 id="广义表"><a href="#广义表" class="headerlink" title="广义表"></a>广义表</h3><p>广义表，又称列表，也是一种线性存储结构。</p>
<p>同数组类似，广义表中既可以存储不可再分的元素，也可以存储广义表，记作：<br>LS = (a1,a2,…,an)</p>
<p>其中，LS 代表广义表的名称，an 表示广义表存储的数据。广义表中每个 ai 既可以代表单个元素，也可以代表另一个广义表。</p>
<p><strong>原子和子表</strong></p>
<p>通常，广义表中存储的单个元素称为 “原子”，而存储的广义表称为 “子表”。</p>
<p>例如创建一个广义表LS = {1,{1,2,3}}，我们可以这样解释此广义表的构成：广义表 LS 存储了一个原子 1 和子表 {1,2,3}。</p>
<p>以下是广义表存储数据的一些常用形式：</p>
<p>A = ()：A 表示一个广义表，只不过表是空的。<br>B = (e)：广义表 B 中只有一个原子 e。<br>C = (a,(b,c,d)) ：广义表 C 中有两个元素，原子 a 和子表 (b,c,d)。<br>D = (A,B,C)：广义表 D 中存有 3 个子表，分别是A、B和C。这种表示方式等同于 D = ((),(e),(b,c,d)) 。<br>E = (a,E)：广义表 E 中有两个元素，原子 a 和它本身。这是一个递归广义表，等同于：E = (a,(a,(a,…)))。</p>
<p>注意，A = () 和 A = (()) 是不一样的。前者是空表，而后者是包含一个子表的广义表，只不过这个子表是空表。</p>
<p><strong>广义表的表头和表尾</strong></p>
<p>当广义表不是空表时，称第一个数据（原子或子表）为”表头”，剩下的数据构成的新广义表为”表尾”。<br>强调一下，除非广义表为空表，否则广义表一定具有表头和表尾，且广义表的表尾一定是一个广义表。</p>
<p>例如在广义表中LS={1,{1,2,3},5}  中，表头为原子 1，表尾为子表 {1,2,3} 和原子 5 构成的广义表，即 {{1,2,3},5}。

再比如，在广义表 LS = {1} 中，表头为原子 1 ，但由于广义表中无表尾元素，因此该表的表尾是一个空表，用{} 表示。

### 广义表的存储结构（两种方式）

由于广义表中可同时存储原子和子表两种形式的数据，因此链表节点的结构也有两种，如图 1 所示：

 广义表节点的两种类型
图 1 广义表节点的两种类型

如图 1 所示，表示原子的节点由两部分构成，分别是 tag 标记位和原子的值，表示子表的节点由三部分构成，分别是 tag 标记位、hp 指针和 tp 指针。

tag 标记位用于区分此节点是原子还是子表，通常原子的 tag 值为 0，子表的 tag 值为 1。子表节点中的 hp 指针用于连接本子表中存储的原子或子表，tp 指针用于连接广义表中下一个原子或子表。

因此，广义表中两种节点的 C 语言表示代码为：

<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">GLNode</span>&#123;</span><br>    <span class="hljs-keyword">int</span> tag;<span class="hljs-comment">//标志域</span><br>    <span class="hljs-class"><span class="hljs-keyword">union</span>&#123;</span><br>        <span class="hljs-keyword">char</span> atom;<span class="hljs-comment">//原子结点的值域</span><br>        <span class="hljs-class"><span class="hljs-keyword">struct</span>&#123;</span><br>            <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">GLNode</span> * <span class="hljs-title">hp</span>,*<span class="hljs-title">tp</span>;</span><br>        &#125;ptr;<span class="hljs-comment">//子表结点的指针域，hp指向表头；tp指向表尾</span><br>    &#125;;<br>&#125;*Glist;<br></code></pre></div></td></tr></table></figure>

这里用到了 union 共用体，因为同一时间此节点不是原子节点就是子表节点，当表示原子节点时，就使用 atom 变量；反之则使用 ptr 结构体。

例如，广义表 {a,{b,c,d}} 是由一个原子 a 和子表 {b,c,d} 构成，而子表 {b,c,d} 又是由原子 b、c 和 d 构成，用链表存储该广义表如图 2 所示：</p>
<p>广义表 {a,{b,c,d}} 的结构示意图<br>图 2 广义表 {a,{b,c,d}} 的结构示意图</p>
<p>图 2 可以看到，存储原子 a、b、c、d 时都是用子表包裹着表示的，因为原子 a 和子表 {b,c,d} 在广义表中同属一级，而原子 b、c、d 也同属一级。</p>
<p>图 2 中链表存储的广义表用 C  语言代码表示为：</p>
<figure class="highlight xl"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xl">Glist creatGlist(Glist C)&#123;<br>    <span class="hljs-comment">//广义表C</span><br>    C=(Glist)malloc(sizeof(Glist));<br>    C-&gt;tag=<span class="hljs-number">1</span>;<br>    <span class="hljs-comment">//表头原子‘a’</span><br>    C-&gt;ptr.hp=(Glist)malloc(sizeof(Glist));<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>tag=<span class="hljs-number">0</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>atom=<span class="hljs-string">&#x27;a&#x27;</span>;<br>    <span class="hljs-comment">//表尾子表（b,c,d）,是一个整体</span><br>    C-&gt;ptr.tp=(Glist)malloc(sizeof(Glist));<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span>tag=<span class="hljs-number">1</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span>ptr.hp=(Glist)malloc(sizeof(Glist));<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span>ptr.tp=NULL;<br>    <span class="hljs-comment">//开始存放下一个数据元素（b,c,d）,表头为‘b’，表尾为（c,d）</span><br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>tag=<span class="hljs-number">1</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>ptr.hp=(Glist)malloc(sizeof(Glist));<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>tag=<span class="hljs-number">0</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>atom=<span class="hljs-string">&#x27;b&#x27;</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>ptr.tp=(Glist)malloc(sizeof(Glist));<br>    <span class="hljs-comment">//存放子表(c,d)，表头为c，表尾为d</span><br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span>tag=<span class="hljs-number">1</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span>ptr.hp=(Glist)malloc(sizeof(Glist));<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>tag=<span class="hljs-number">0</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>atom=<span class="hljs-string">&#x27;c&#x27;</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span>ptr.tp=(Glist)malloc(sizeof(Glist));<br>    <span class="hljs-comment">//存放表尾d</span><br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span>tag=<span class="hljs-number">1</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span>ptr.hp=(Glist)malloc(sizeof(Glist));<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>tag=<span class="hljs-number">0</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>atom=<span class="hljs-string">&#x27;d&#x27;</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span>ptr.tp=NULL;<br>    return C;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>另一种广义表存储结构</p>
<p>如果你觉得图 2 这种存储广义表的方式不合理，可以使用另一套表示广义表中原子和子表结构的节点，如图 3 所示：</p>
<p>广义表的另一套节点结构<br>图 3 广义表的另一套节点结构</p>
<p>如图 3 所示，表示原子的节点构成由 tag 标记位、原子值和 tp 指针构成，表示子表的节点还是由 tag 标记位、hp 指针和 tp 指针构成。</p>
<p>图 3 的节点结构用 C 语言代码表示为：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">GLNode</span>&#123;</span><br>    <span class="hljs-keyword">int</span> tag;<span class="hljs-comment">//标志域</span><br>    <span class="hljs-class"><span class="hljs-keyword">union</span>&#123;</span><br>        <span class="hljs-keyword">int</span> atom;<span class="hljs-comment">//原子结点的值域</span><br>        <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">GLNode</span> *<span class="hljs-title">hp</span>;</span><span class="hljs-comment">//子表结点的指针域，hp指向表头</span><br>    &#125;;<br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">GLNode</span> * <span class="hljs-title">tp</span>;</span><span class="hljs-comment">//这里的tp相当于链表的next指针，用于指向下一个数据元素</span><br>&#125;*Glist;<br></code></pre></div></td></tr></table></figure>

<p>采用图 3 中的节点结构存储广义表 {a,{b,c,d}} 的示意图如图 4 所示：</p>
<p>图 4 存储广义表对应的 C 语言代码为：</p>
<figure class="highlight xl"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xl">Glist creatGlist(Glist C)&#123;<br>    C=(Glist)malloc(sizeof(Glist));<br>    C-&gt;tag=<span class="hljs-number">1</span>;<br>    C-&gt;hp=(Glist)malloc(sizeof(Glist));<br>    C-&gt;tp=NULL;<br>    <span class="hljs-comment">//表头原子a</span><br>    C-&gt;<span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span>tag=<span class="hljs-number">0</span>;<br>    C-&gt;atom=<span class="hljs-string">&#x27;a&#x27;</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span>tp=(Glist)malloc(sizeof(Glist));<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">tp</span>-&gt;</span>tag=<span class="hljs-number">1</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">tp</span>-&gt;</span>hp=(Glist)malloc(sizeof(Glist));<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">tp</span>-&gt;</span>tp=NULL;<br>    <span class="hljs-comment">//原子b</span><br>    C-&gt;<span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">tp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span>tag=<span class="hljs-number">0</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">tp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span>atom=<span class="hljs-string">&#x27;b&#x27;</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">tp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span>tp=(Glist)malloc(sizeof(Glist));<br>    <span class="hljs-comment">//原子c</span><br>    C-&gt;<span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">tp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">tp</span>-&gt;</span>tag=<span class="hljs-number">0</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">tp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">tp</span>-&gt;</span>atom=<span class="hljs-string">&#x27;c&#x27;</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">tp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">tp</span>-&gt;</span>tp=(Glist)malloc(sizeof(Glist));<br>    <span class="hljs-comment">//原子d</span><br>    C-&gt;<span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">tp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">tp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">tp</span>-&gt;</span>tag=<span class="hljs-number">0</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">tp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">tp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">tp</span>-&gt;</span>atom=<span class="hljs-string">&#x27;d&#x27;</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">tp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">hp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">tp</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">tp</span>-&gt;</span>tp=NULL;<br>    return C;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<h3 id="广义表的复制"><a href="#广义表的复制" class="headerlink" title="广义表的复制"></a>广义表的复制</h3><p>对于任意一个非空广义表来说，都是由两部分组成：表头和表尾。反之，只要确定的一个广义表的表头和表尾，那么这个广义表就可以唯一确定下来。</p>
<p>复制一个广义表，也是不断的复制表头和表尾的过程。如果表头或者表尾同样是一个广义表，依旧复制其表头和表尾。</p>
<p>所以，复制广义表的过程，其实就是不断的递归，复制广义表中表头和表尾的过程。</p>
<p>递归的出口有两个：</p>
<p>如果当前遍历的数据元素为空表，则直接返回空表。<br>如果当前遍历的数据元素为该表的一个原子，那么直接复制，返回即可。</p>
<p>代码实现：</p>
<figure class="highlight xl"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xl">#include &lt;stdio.h&gt;<br>#include &lt;stdlib.h&gt;<br>typedef struct GLNode&#123;<br>    int tag;<span class="hljs-comment">//标志域</span><br>    union&#123;<br>        char atom;<span class="hljs-comment">//原子结点的值域</span><br>        struct&#123;<br>            struct GLNode * hp,*tp;<br>        &#125;ptr;<span class="hljs-comment">//子表结点的指针域，hp指向表头；tp指向表尾</span><br>    &#125;;<br>&#125;*Glist,GNode;<br>Glist creatGlist(Glist C)&#123;<br>    <span class="hljs-comment">//广义表C</span><br>    C=(Glist)malloc(sizeof(GNode));<br>    C-&gt;tag=<span class="hljs-number">1</span>;<br>    <span class="hljs-comment">//表头原子‘a’</span><br>    C-&gt;ptr.hp=(Glist)malloc(sizeof(GNode));<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>tag=<span class="hljs-number">0</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>atom=<span class="hljs-string">&#x27;a&#x27;</span>;<br>    <span class="hljs-comment">//表尾子表（b,c,d）,是一个整体</span><br>    C-&gt;ptr.tp=(Glist)malloc(sizeof(GNode));<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span>tag=<span class="hljs-number">1</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span>ptr.hp=(Glist)malloc(sizeof(GNode));<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span>ptr.tp=NULL;<br>    <span class="hljs-comment">//开始存放下一个数据元素（b,c,d）,表头为‘b’，表尾为（c,d）</span><br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>tag=<span class="hljs-number">1</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>ptr.hp=(Glist)malloc(sizeof(GNode));<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>tag=<span class="hljs-number">0</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>atom=<span class="hljs-string">&#x27;b&#x27;</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>ptr.tp=(Glist)malloc(sizeof(GNode));<br>    <span class="hljs-comment">//存放子表(c,d)，表头为c，表尾为d</span><br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span>tag=<span class="hljs-number">1</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span>ptr.hp=(Glist)malloc(sizeof(GNode));<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>tag=<span class="hljs-number">0</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>atom=<span class="hljs-string">&#x27;c&#x27;</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span>ptr.tp=(Glist)malloc(sizeof(GNode));<br>    <span class="hljs-comment">//存放表尾d</span><br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span>tag=<span class="hljs-number">1</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span>ptr.hp=(Glist)malloc(sizeof(GNode));<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>tag=<span class="hljs-number">0</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>atom=<span class="hljs-string">&#x27;d&#x27;</span>;<br>    C-&gt;<span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp-&gt;</span>ptr.tp=NULL;<br>    return C;<br>&#125;<br>void copyGlist(Glist C, Glist *T)&#123;<br>    <span class="hljs-comment">//如果C为空表，那么复制表直接为空表 </span><br>    <span class="hljs-keyword">if</span> (!C) &#123;<br>        *T=NULL;<br>    &#125;<br>    <span class="hljs-keyword">else</span>&#123;<br>        *T=(Glist)malloc(sizeof(GNode));<span class="hljs-comment">//C不是空表，给T申请内存空间</span><br>        <span class="hljs-comment">//申请失败，程序停止</span><br>        <span class="hljs-keyword">if</span> (!*T) &#123;<br>            exit(<span class="hljs-number">0</span>);<br>        &#125;<br>        (*T)-&gt;<span class="hljs-function"><span class="hljs-title">tag</span>=C-&gt;</span>tag;<span class="hljs-comment">//复制表C的tag值</span><br>        <span class="hljs-comment">//判断当前表元素是否为原子，如果是，直接复制</span><br>        <span class="hljs-function"><span class="hljs-title">if</span> (C-&gt;</span>tag==<span class="hljs-number">0</span>) &#123;<br>            (*T)-&gt;<span class="hljs-function"><span class="hljs-title">atom</span>=C-&gt;</span>atom;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<span class="hljs-comment">//运行到这，说明复制的是子表</span><br>            <span class="hljs-function"><span class="hljs-title">copyGlist</span>(C-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp, &amp;((*T)-&gt;</span>ptr.hp));<span class="hljs-comment">//复制表头</span><br>            <span class="hljs-function"><span class="hljs-title">copyGlist</span>(C-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.tp, &amp;((*T)-&gt;</span>ptr.tp));<span class="hljs-comment">//复制表尾</span><br>        &#125;<br>    &#125;<br>&#125;<br>int main(int argc, const char * argv[]) &#123;<br>    Glist C=NULL;<br>    C=creatGlist(C);<br>    Glist T=NULL;<br>    copyGlist(C,&amp;T);<br>    <span class="hljs-function"><span class="hljs-title">printf</span>(&quot;%c&quot;,T-&gt;</span><span class="hljs-function"><span class="hljs-title">ptr</span>.hp-&gt;</span>atom);<br>    return <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>运行结果：a</p>
<p>总结</p>
<p>在实现复制广义表的过程中，实现函数为：</p>
<p><code>void copyGlist(Glist C, Glist *T);</code></p>
<p>其中，<code>Glist *T</code>，等同于: <code>struct GLNode* *T</code>，此为二级指针，不是一级指针。在主函数中，调用此函数时，传入的是指针 T 的地址，而不是 T 。</p>
<p>这里使用的是地址传递，而不是值传递。如果在这里使用值传递，会导致广义表 T 丢失结点，复制失败。</p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/%E7%AE%97%E6%B3%95/">算法</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2020/06/data-structure03/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">树的遍历</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2020/06/data-structure05/">
                        <span class="hidden-mobile">树的遍历</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments">
                
                  
                
                
  <div id="lv-container" data-id="city" data-uid="MTAyMC81MDkyMy8yNzQwNQ==">
    <script type="text/javascript">
      Fluid.utils.loadComments('#lv-container', function() {
        Fluid.utils.createScript('https://cdn-city.livere.com/js/embed.dist.js');
      });
    </script>
    <noscript>Please enable JavaScript to view the comments</noscript>
  </div>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    
      <script  src="/js/img-lazyload.js" ></script>
    
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.3/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.1/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js" ></script>



  <script  src="/js/local-search.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>















<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
